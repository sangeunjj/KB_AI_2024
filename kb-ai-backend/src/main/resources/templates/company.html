<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/navbar.css">
    <link rel="stylesheet" href="/css/company.css">
    <title>Company Page</title>
</head>
<body>
<div class="sidebar active" id="sidebar">
    <div class="profile">
        <img class="profile-image" th:if="${session.member?.gender == 1}" th:src="@{/icons/men.png}"
             alt="Profile Picture">
        <img class="profile-image" th:if="${session.member?.gender == 2}" th:src="@{/icons/women.png}"
             alt="Profile Picture">
        <img class="profile-image" th:if="${session.member?.gender != 1 and session.member?.gender != 2}"
             th:src="@{/icons/default-profile1.png}" alt="Profile Picture">
        <span id="username" th:text="${session.member?.username ?: '익명'}">김대리</span>
    </div>
    <div class="menu-items">
        <a href="/"><img src="/icons/chat2.png" alt="Chat Icon" class="icon" width="25px" height="25px">Chat</a>
        <a href="/company"><img src="/icons/company2.png" alt="Company Icon" class="icon" width="25px" height="25px">Company</a>
        <a href="/report1"><img src="/icons/report9.png" alt="Report Icon" class="icon" width="25px" height="25px">Report</a>
    </div>
    <div class="auth">
        <a th:if="${session.member}" href="/logout"><img src="/icons/logout1.png" alt="Logout Icon" class="icon"
                                                         width="25px" height="25px">Log Out</a>
        <a th:unless="${session.member}" href="/login"><img src="/icons/login.png" alt="Login Icon" class="icon"
                                                            width="25px" height="25px">Log In</a>
    </div>
</div>
<div class="content expanded" id="content">
    <div class="navbar">
        <div class="left-section">
            <div class="toggle-btn" onclick="toggleSidebar()">☰</div>
            <div class="logo">KB <span>ANALYSIS</span></div>
        </div>
        <div class="navbar-search-container">
            <input type="text" id="search-input" placeholder="기업명을 입력하세요" oninput="searchCompany()">
            <button class="search-clear" onclick="clearSearch()">X</button>
        </div>
    </div>
    <div class="main-content">
        <div class="company-container">
            <div class="company-filters">
                <label for="esg-slider">ESG</label>
                <input type="range" id="esg-slider" min="0" max="6" value="4" oninput="filterCompanies()"
                       style="background-color: #776C61;">
                <span id="esg-value">A</span>

                <label for="region-select">소재지역</label>
                <select id="region-select" onchange="filterByRegion()">
                    <option value="">전체</option>
                    <option value="서울특별시">서울특별시</option>
                    <option value="부산광역시">부산광역시</option>
                    <option value="대구광역시">대구광역시</option>
                    <option value="인천광역시">인천광역시</option>
                    <option value="광주광역시">광주광역시</option>
                    <option value="대전광역시">대전광역시</option>
                    <option value="울산광역시">울산광역시</option>
                    <option value="세종특별자치시">세종특별자치시</option>
                    <option value="경기도">경기도</option>
                    <option value="전라남도">전라남도</option>
                </select>
            </div>
            <div class="company-list" id="company-list">
                <!-- 기업 리스트 여기 표시 -->
            </div>
        </div>
    </div>
</div>
<div class="company-details collapsed" id="company-details">
    <div class="company-details-header">
        <span id="company-name">회사명</span>
        <button class="close-btn" onclick="toggleCompanyDetails()">X</button>
    </div>
    <div class="company-details-content">
        <div class="com-details-index">
            <a href="#기업개요" class="tab-link" onclick="showTabContent('기업개요')"><strong>기업개요</strong></a>
            <span>|</span>
            <a href="#재무정보" class="tab-link" onclick="showTabContent('재무정보')"><strong>재무정보</strong></a>
            <span>|</span>
            <a href="#ESG" class="tab-link" onclick="showTabContent('ESG')"><strong>ESG 및 경영전략</strong></a>
            <span>|</span>
            <a href="#산업분석" class="tab-link" onclick="showTabContent('산업분석')"><strong>산업분석 및 시장동향</strong></a>
            <span>|</span>
            <a href="#미디어" class="tab-link" onclick="showTabContent('미디어')"><strong>미디어 커버리지 및 평판관리</strong></a>
        </div>
        <div id="기업개요" class="tab-content hidden">
            <h2>기업 개요</h2>
            <h2>회사명
                주소
                설립일자
                사업영역
                산업분류</h2>
        </div>
        <div id="재무정보" class="tab-content hidden">
            <h2>재무정보</h2>
            <h2>
                기업코드
                사업보고서(현금흐름표)
                사업보고서(손익계산서)
                사업보고서(재무상태표)
                베타계수
            </h2>
        </div>
        <div id="ESG" class="tab-content hidden">
            <h2>ESG 및 경영전략</h2>
            <h2>
                ESG
                ESG 지표
                정규직 유무
                성별
                여성임원수
            </h2>
        </div>
        <div id="산업분석" class="tab-content hidden">
            <h2>산업분석 및 시장동향</h2>
            <h2>
                산업분류
                산업현황
            </h2>
        </div>
        <div id="미디어" class="tab-content hidden">
            <h2>미디어 커버리지 및 평판관리</h2>
            <h2>
                뉴스요약
                긍정/부정 점수
                2주정도 기사 개수
            </h2>
        </div>
    </div>
    <div class="detail-tab" id="detail-tab" onclick="toggleCompanyDetails()">❯</div>
</div>
<script th:src="@{/js/navbar.js}"></script>
<script src="/js/company.js"></script>
</body>
</html>