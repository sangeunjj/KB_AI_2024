<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/navbar.css">
    <link rel="stylesheet" href="/css/chat.css">
    <title>Chat Page</title>
</head>
<body>
<div class="sidebar active" id="sidebar">
    <div class="profile">
        <!-- Gender가 1인 경우 -->
        <img class="profile-image" th:if="${session.member?.gender == 1}" th:src="@{/icons/men.png}" alt="Profile Picture">
        <!-- Gender가 2인 경우 -->
        <img class="profile-image" th:if="${session.member?.gender == 2}" th:src="@{/icons/women.png}" alt="Profile Picture">
        <!-- 로그인하지 않은 경우 또는 다른 값인 경우 -->
        <img class="profile-image" th:if="${session.member?.gender != 1 and session.member?.gender != 2}" th:src="@{/icons/default-profile1.png}" alt="Profile Picture">

        <span id="username" th:text="${session.member?.username ?: '익명'}">김대리</span>
    </div>
    <div class="menu-items">
        <a href="/"><img src="/icons/chat2.png" alt="Chat Icon" class="icon" width="25px" height="25px">Chat</a>
        <a href="/company"><img src="/icons/company2.png" alt="Company Icon" class="icon" width="25px" height="25px">Company</a>
        <a href="/report1"><img src="/icons/report9.png" alt="Report Icon" class="icon" width="25px" height="25px">Report</a>
    </div>
    <div class="auth">
        <a th:if="${session.member}" href="/logout"><img src="/icons/logout1.png" alt="Logout Icon" class="icon" width="25px" height="25px">Log Out</a>
        <a th:unless="${session.member}" href="/login"><img src="/icons/login.png" alt="Login Icon" class="icon" width="25px" height="25px">Log In</a>
    </div>
</div>
<div class="content expanded" id="content">
    <div class="navbar">
        <div class="left-section">
            <div class="toggle-btn" onclick="toggleSidebar()">☰</div>
            <div class="logo">KB <span>ANALYSIS</span></div>
        </div>
        <div class="search-container">
            <input type="text" placeholder="기업명을 입력하세요">
            <button class="search-clear">X</button>
        </div>
    </div>
    <div class="main-content">
        <!-- 여기에 Chat 페이지의 내용을 추가하세요 -->
        <h1>Company Page</h1>
        <p>This is the Company page content.</p>
    </div>
</div>
<script th:src="@{/js/navbar.js}"></script>
<script>
    function toggleSidebar() {
        const sidebar = document.getElementById("sidebar");
        const content = document.getElementById("content");
        sidebar.classList.toggle("active");
        content.classList.toggle("expanded");
    }

    document.querySelector('.search-clear').addEventListener('click', function() {
        document.querySelector('.search-container input').value = '';
    });
</script>
</body>
</html>