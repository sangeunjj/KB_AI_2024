<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/navbar.css">
    <link rel="stylesheet" href="/css/report.css">
    <link rel="stylesheet" href="/css/main.css"> <!-- 메인 CSS 파일 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">
    <title>Company Selection</title>
</head>
<body>
<div class="sidebar active" id="sidebar">
    <div class="profile">
        <!-- Gender가 1인 경우 -->
        <img class="profile-image" th:if="${session.member?.gender == 1}" th:src="@{/icons/men.png}" alt="Profile Picture">
        <!-- Gender가 2인 경우 -->
        <img class="profile-image" th:if="${session.member?.gender == 2}" th:src="@{/icons/women.png}" alt="Profile Picture">
        <!-- 로그인하지 않은 경우 또는 다른 값인 경우 -->
        <img class="profile-image" th:if="${session.member?.gender != 1 and session.member?.gender != 2}" th:src="@{/icons/default-profile1.png}" alt="Profile Picture">
        <span id="username" th:text="${session.member?.username ?: '익명'}">김대리</span>
    </div>
    <div class="menu-items">
        <a href="/"><img src="/icons/chat2.png" alt="Chat Icon" class="icon" width="25px" height="25px">Chat</a>
        <a href="/company"><img src="/icons/company2.png" alt="Company Icon" class="icon" width="25px" height="25px">Company</a>
        <a href="/report1"><img src="/icons/report9.png" alt="Report Icon" class="icon" width="25px" height="25px">Report</a>
    </div>
    <div class="auth">
        <a th:if="${session.member}" href="/logout"><img src="/icons/logout1.png" alt="Logout Icon" class="icon" width="25px" height="25px">Log Out</a>
        <a th:unless="${session.member}" href="/login"><img src="/icons/login.png" alt="Login Icon" class="icon" width="25px" height="25px">Log In</a>
    </div>
</div>

<div class="content expanded" id="content">
    <div class="navbar">
        <div class="left-section">
            <div class="toggle-btn" onclick="toggleSidebar()">☰</div>
            <div class="logo">KB <span>ANALYSIS</span></div>
        </div>
    </div>
    <div class="main-content">
        <!-- 기업 선택 -->
        <div class="container company-selection">
            <div class="section-header">1. 기업 선택하기</div>
            <p>비교할 기업을 선택하세요. 기업 비교는 최대 3개까지 가능합니다.</p>
            <div class="buttons">
                <button class="button" id="company1" onclick="openModal()">+</button>
                <button class="button" id="company2" onclick="openModal()">+</button>
                <button class="button" id="company3" onclick="openModal()">+</button>
            </div>
        </div>

        <!-- 피처 선택 -->
        <div class="container criteria-selection">
            <div class="section-header">2. 중점적으로 비교할 피처 선택하기</div>
            <p>중점적으로 비교할 피처를 선택하세요</p>
            <div class="buttons">
                <button class="feature-button" id="allButton">전체</button> <!-- 전체 선택 버튼 -->
                <button class="feature-button">ESG</button>
                <button class="feature-button">베타계수</button>
                <button class="feature-button">여성임원수</button>
                <button class="feature-button">정규직 유무</button>
                <button class="feature-button">성별</button>
                <button class="feature-button">사업보고서(현금흐름표)</button>
                <button class="feature-button">사업보고서(손익계산서)</button>
                <button class="feature-button">사업보고서(재무상태표)</button>
                <button class="feature-button">뉴스 내용 및 개수</button>
                <button class="feature-button">산업현황(긍정/부정 점수)</button>
            </div>
        </div>

        <!-- 비교 결과 -->
        <div class="container results">
            <div class="section-header">3. 비교 분석 결과</div>
            <p>세 기업의 비교 분석 결과입니다.</p>
            <div class="charts">
<!--                <img src="chart1.png" alt="Chart 1" class="chart">-->
<!--                <img src="chart2.png" alt="Chart 2" class="chart">-->
<!--                <img src="chart3.png" alt="Chart 3" class="chart">-->
<!--                <img src="chart4.png" alt="Chart 4" class="chart">-->
<!--                <img src="chart5.png" alt="Chart 5" class="chart">-->
<!--                <img src="chart6.png" alt="Chart 6" class="chart">-->
            </div>
        </div>

        <!-- 자동 보고서 생성 -->
        <div class="container report-generation">
            <div class="section-header">4. 비교 내용 자동 보고서 생성하기</div>
            <button class="generate-report">자동 보고서 생성</button>
        </div>
    </div>
</div>

<!-- 모달 -->
<div id="companyModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h2>기업을 선택하세요</h2>
        <div class="company-sections">
            <div id="companyList1" class="company-list"></div>
            <div id="companyList2" class="company-list"></div>
            <div id="companyList3" class="company-list"></div>
        </div>
    </div>
</div>

<script src="/js/navbar.js"></script>
<script src="/js/report.js"></script> <!-- 메인 JS 파일 -->
</body>
</html>